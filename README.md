# Automatic-backup-of-a-specific-folder-in-Linux
cat <<EOL > backup_guide.txt
# راهنمای ایجاد و تنظیم اسکریپت پشتیبان‌گیری با استفاده از Cron در لینوکس

## ۱. ایجاد فایل اسکریپت پشتیبان‌گیری

1. **ایجاد فایل اسکریپت:**

   یک فایل جدید با نام \`backup_script.sh\` ایجاد کنید و کد زیر را در آن قرار دهید:

   \`\`\`bash
   #!/bin/bash

   # تنظیمات
   SOURCE_DIR="/path/to/source"       # پوشه‌ای که می‌خواهید از آن پشتیبان بگیرید
   BACKUP_DIR="/path/to/backup"        # پوشه‌ای که پشتیبان‌ها در آن ذخیره می‌شود
   RETENTION_DAYS=7                    # تعداد روزهایی که فایل‌های پشتیبان باید نگه‌داری شوند

   # تاریخ و زمان برای نام فایل پشتیبان
   TIMESTAMP=$(date +"%Y%m%d%H%M%S")
   BACKUP_FILE="${BACKUP_DIR}/backup_${TIMESTAMP}.tar.gz"

   # ایجاد پشتیبان
   echo "ایجاد پشتیبان از ${SOURCE_DIR} ..."
   tar -czf "${BACKUP_FILE}" -C "${SOURCE_DIR}" .

   # حذف فایل‌های پشتیبان قدیمی‌تر از RETENTION_DAYS روز
   find "${BACKUP_DIR}" -name "backup_*.tar.gz" -type f -mtime +${RETENTION_DAYS} -exec rm {} \;

   echo "پشتیبان‌گیری و مدیریت فایل‌ها به پایان رسید."
   \`\`\`

2. **اعطا کردن مجوز اجرایی به فایل اسکریپت:**

   برای اینکه اسکریپت قابل اجرا باشد، به آن مجوز اجرایی دهید:

   \`\`\`
   chmod +x backup_script.sh
   \`\`\`

3. **اجرای اسکریپت:**

   اسکریپت را با دستور زیر اجرا کنید:

   \`\`\`
   ./backup_script.sh
   \`\`\`

## ۲. تنظیم Cron برای اجرای اسکریپت هر دقیقه

1. **ویرایش Cron Tab:**

   فایل Cron tab را برای ویرایش باز کنید:

   \`\`\`
   crontab -e
   \`\`\`

2. **اضافه کردن تنظیمات Cron:**

   خط زیر را به فایل Crontab اضافه کنید تا اسکریپت هر دقیقه اجرا شود:

   \`\`\`
   * * * * * /path/to/backup_script.sh
   \`\`\`

   **توضیحات:**

   - **\`* * * * *\`**: هر دقیقه، هر ساعت، هر روز، هر ماه، هر روز هفته.
   - **\`/path/to/backup_script.sh\`**: مسیر کامل به فایل اسکریپت.

3. **حفظ تغییرات:**

   بعد از اضافه کردن خط به Cron tab، فایل را ذخیره کنید و از ویرایشگر خارج شوید (در ویرایشگر \`nano\`، با \`Ctrl+X\`، سپس \`Y\` برای تأیید و \`Enter\` برای خروج).

4. **بررسی وظایف Cron:**

   برای اطمینان از تنظیم صحیح، لیست وظایف Cron خود را با دستور زیر مشاهده کنید:

   \`\`\`
   crontab -l
   \`\`\`

## نکات اضافی

- **خروجی و خطاها:**

  برای ضبط خروجی یا خطاهای اسکریپت، مسیر فایل خروجی و خطا را اضافه کنید:

  \`\`\`
  * * * * * /path/to/backup_script.sh >> /path/to/backup_script.log 2>&1
  \`\`\`

- **ملاحظات عملکردی:**

  اجرای اسکریپت هر دقیقه ممکن است منابع سیستم را تحت تأثیر قرار دهد. اطمینان حاصل کنید که این تنظیمات با نیازهای سیستم شما سازگار
